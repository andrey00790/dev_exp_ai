# ๐งช E2E ะะฝัะตะณัะฐัะธะพะฝะฝัะต ัะตััั

ะะพะปะฝะพัะตะฝะฝะฐั E2E ัะตััะพะฒะฐั ััะตะดะฐ ั ะปะพะบะฐะปัะฝัะผะธ ะธะฝััะฐะฝัะฐะผะธ Jira, Confluence, GitLab, Elasticsearch ะธ Redis.

## ๐๏ธ ะััะธัะตะบัััะฐ E2E ััะตะดั

```
โโโโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโ
โ     Jira        โ   โ   Confluence    โ   โ     GitLab      โ
โ   :8080         โ   โ     :8090       โ   โ     :8088       โ
โโโโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโ
          โ                     โ                     โ
          โโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโ
                                โ
                    โโโโโโโโโโโโโโโโโโโ
                    โ   PostgreSQL    โ
                    โ     :5432       โ
                    โโโโโโโโโโโโโโโโโโโ
                                โ
        โโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโ
        โ                       โ                       โ
โโโโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโ
โ Elasticsearch  โ   โ     Redis       โ   โ Test Data       โ
โ    :9200        โ   โ     :6379       โ   โ    Loader       โ
โโโโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะัััััะน ััะฐัั

### ะขัะตะฑะพะฒะฐะฝะธั
- Docker & Docker Compose
- Python 3.11+
- Make (ะพะฟัะธะพะฝะฐะปัะฝะพ)
- 8GB+ RAM ัะตะบะพะผะตะฝะดัะตััั

### ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ
```bash
# ะะตัะตัะพะด ะฒ ะดะธัะตะบัะพัะธั E2E ัะตััะพะฒ
cd tests/e2e

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
make setup

# ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ
make start

# ะะฐะณััะทะบะฐ ัะตััะพะฒัั ะดะฐะฝะฝัั
make load-data

# ะะฐะฟััะบ ัะตััะพะฒ
make test
```

## ๐ ะะพัััะฟะฝัะต ะบะพะผะฐะฝะดั

### ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั
```bash
make start          # ะะฐะฟัััะธัั ะฒัะต ัะตัะฒะธัั
make stop           # ะััะฐะฝะพะฒะธัั ัะตัะฒะธัั  
make clean          # ะะพะปะฝะฐั ะพัะธััะบะฐ
make test           # ะะพะปะฝัะต E2E ัะตััั
make test-quick     # ะัััััะต ัะตััั
make status         # ะกัะฐััั ัะตัะฒะธัะพะฒ
```

### ะกะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะต ัะตััั
```bash
make test-multilingual  # ะขะตััั ะผะฝะพะณะพัะทััะฝะพััะธ
pytest -k "jira"       # ะขะพะปัะบะพ Jira ัะตััั
pytest -k "russian"    # ะขะพะปัะบะพ ััััะบะพัะทััะฝัะต ัะตััั
pytest -k "cross"      # ะัะพัั-ัะธััะตะผะฝัะต ัะตััั
```

### ะฃะฟัะฐะฒะปะตะฝะธะต ะดะฐะฝะฝัะผะธ
```bash
make load-data      # ะะฐะณััะทะธัั ัะตััะพะฒัะต ะดะฐะฝะฝัะต
make backup-data    # ะกะพะทะดะฐัั ะฑัะบะฐะฟ
make restore-data BACKUP=file.sql  # ะะพัััะฐะฝะพะฒะธัั ะดะฐะฝะฝัะต
```

## ๐ ะะพัััะฟ ะบ ัะตัะฒะธัะฐะผ

| ะกะตัะฒะธั | URL | Credentials |
|--------|-----|-------------|
| **Jira** | http://localhost:8080 | admin / admin |
| **Confluence** | http://localhost:8090 | admin / admin |
| **GitLab** | http://localhost:8088 | root / testpassword123 |
| **Elasticsearch** | http://localhost:9200 | - |
| **Redis** | redis://localhost:6379 | - |

## ๐ ะขะตััะพะฒัะต ะดะฐะฝะฝัะต

### Jira
- **ะัะพะตะบัั**: TEST, API
- **ะะฐะดะฐัะธ**: 
  - ะะตะฐะปะธะทะฐัะธั OAuth 2.0 ะฐััะตะฝัะธัะธะบะฐัะธะธ (ััััะบะธะน)
  - API rate limiting implementation (ะฐะฝะณะปะธะนัะบะธะน)
  - ะะธะบัะพัะตัะฒะธัั ะฐััะธัะตะบัััะฐ ะดะพะบัะผะตะฝัะฐัะธั (ััััะบะธะน)

### Confluence
- **ะัะพัััะฐะฝััะฒะพ**: TESTSPACE
- **ะกััะฐะฝะธัั**:
  - OAuth 2.0 Authentication Guide (ะฐะฝะณะปะธะนัะบะธะน)
  - ะัะบะพะฒะพะดััะฒะพ ะฟะพ API Gateway (ััััะบะธะน)
  - Microservices Architecture Patterns (ะฐะฝะณะปะธะนัะบะธะน)

### GitLab
- **ะัะพะตะบัั**: api-gateway, auth-service
- **ะคะฐะนะปั**: README.md, docs/architecture.md ั ะผัะปััะธัะทััะฝัะผ ะบะพะฝัะตะฝัะพะผ

### Elasticsearch
- **ะะฝะดะตะบั**: test_documents
- **ะะพะบัะผะตะฝัั**: ะัะพะธะฝะดะตะบัะธัะพะฒะฐะฝะฝัะต ัััะฐะฝะธัั ะธะท Confluence ั ะผะตัะฐะดะฐะฝะฝัะผะธ ัะทัะบะฐ

## ๐งช ะกัััะบัััะฐ ัะตััะพะฒ

### TestJiraIntegration
- โ ะะพะดะบะปััะตะฝะธะต ะบ Jira
- โ ะกะพะทะดะฐะฝะธะต ะธ ะฟะพะธัะบ ะฟัะพะตะบัะพะฒ
- โ ะะพะธัะบ ะทะฐะดะฐั ะฝะฐ ััััะบะพะผ ัะทัะบะต
- โ ะะพะธัะบ ะทะฐะดะฐั ะฝะฐ ะฐะฝะณะปะธะนัะบะพะผ ัะทัะบะต

### TestConfluenceIntegration  
- โ ะะพะดะบะปััะตะฝะธะต ะบ Confluence
- โ ะกะพะทะดะฐะฝะธะต ะฟัะพัััะฐะฝััะฒ
- โ ะะฝะพะณะพัะทััะฝัะน ะฟะพะธัะบ ัััะฐะฝะธั
- โ ะัะพะฒะตัะบะฐ ััััะบะพัะทััะฝะพะณะพ ะบะพะฝัะตะฝัะฐ

### TestGitLabIntegration
- โ ะะพะดะบะปััะตะฝะธะต ะบ GitLab
- โ ะกะพะทะดะฐะฝะธะต ะฟัะพะตะบัะพะฒ
- โ ะัะพะฒะตัะบะฐ ะผัะปััะธัะทััะฝัั ัะฐะนะปะพะฒ

### TestElasticsearchIntegration
- โ ะะพะดะบะปััะตะฝะธะต ะบ Elasticsearch
- โ ะะฝะดะตะบัะฐัะธั ะดะพะบัะผะตะฝัะพะฒ
- โ ะะฝะพะณะพัะทััะฝัะน ัะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ

### TestCrossSystemIntegration
- โ ะะพะธัะบ ะผะตะถะดั ัะธััะตะผะฐะผะธ
- โ ะัะธะฝััะพะฝะฝะฐั ัะธะฝััะพะฝะธะทะฐัะธั ะดะฐะฝะฝัั
- โ End-to-end workflows

## ๐ง ะะพะฝัะธะณััะฐัะธั

### Docker Compose
- **ะคะฐะนะป**: `docker-compose.yml`
- **ะกะตัะธ**: e2e_network (bridge)
- **ะะฑัะตะผั**: ะะตััะธััะตะฝัะฝัะต ะดะฐะฝะฝัะต ะดะปั ะบะฐะถะดะพะณะพ ัะตัะฒะธัะฐ
- **Health checks**: ะะฒัะพะผะฐัะธัะตัะบะฐั ะฟัะพะฒะตัะบะฐ ะณะพัะพะฒะฝะพััะธ ัะตัะฒะธัะพะฒ

### Test Data Loader
- **ะกะบัะธะฟั**: `test_data_loader.py`
- **ะคัะฝะบัะธะธ**: ะะฒัะพะผะฐัะธัะตัะบะพะต ะฝะฐะฟะพะปะฝะตะฝะธะต ะฒัะตั ัะธััะตะผ ัะตััะพะฒัะผะธ ะดะฐะฝะฝัะผะธ
- **ะะฝะพะณะพัะทััะฝะพััั**: ะกะพะทะดะฐะฝะธะต ะบะพะฝัะตะฝัะฐ ะฝะฐ ััััะบะพะผ ะธ ะฐะฝะณะปะธะนัะบะพะผ ัะทัะบะฐั

### Pytest Configuration
- **ะะฐัะบะตัั**: e2e, multilingual, slow, performance
- **Timeouts**: 30 ะผะธะฝัั ะดะปั ะดะปะธัะตะปัะฝัั ัะตััะพะฒ
- **ะะพะณะธัะพะฒะฐะฝะธะต**: ะะตัะฐะปัะฝัะต ะปะพะณะธ ะฒัะตั ะพะฟะตัะฐัะธะน

## ๐ก ะกะพะฒะตัั ะฟะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะะฐะทัะฐะฑะพัะบะฐ
```bash
# ะะฐะฟััะบ ัะพะปัะบะพ ะธะฝััะฐััััะบัััั (ะฑะตะท Atlassian/GitLab)
make dev-start

# ะัะปะฐะดะบะฐ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
make debug-jira
make logs-confluence

# ะะพะฝะธัะพัะธะฝะณ ัะตััััะพะฒ
make monitor
```

### CI/CD ะธะฝัะตะณัะฐัะธั
```bash
# ะะพะผะฐะฝะดะฐ ะดะปั CI ะฟะฐะนะฟะปะฐะนะฝะฐ
make ci-test

# ะะตะทัะปััะฐัั ะฒ JUnit XML
pytest --junitxml=e2e-results.xml
```

### Troubleshooting
```bash
# ะัะพะฒะตัะบะฐ ััะฐัััะฐ ะฒัะตั ัะตัะฒะธัะพะฒ
make status

# ะัะพัะผะพัั ะปะพะณะพะฒ
make logs

# ะะพะปะฝะฐั ะฟะตัะตัััะฐะฝะพะฒะบะฐ
make clean && make start
```

## โก ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

### ะัะตะผั ะทะฐะฟััะบะฐ
- **ะะตัะฒัะน ะทะฐะฟััะบ**: ~10-15 ะผะธะฝัั (ะทะฐะณััะทะบะฐ ะพะฑัะฐะทะพะฒ)
- **ะะพัะปะตะดัััะธะต**: ~5-8 ะผะธะฝัั (ะณะพัะพะฒะฝะพััั ัะตัะฒะธัะพะฒ)
- **ะขะพะปัะบะพ ัะตััั**: ~2-3 ะผะธะฝััั

### ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะตััััะพะฒ
- **RAM**: ~6-8GB ะดะปั ะฒัะตั ัะตัะฒะธัะพะฒ
- **CPU**: ะะธะบะธ ะฟัะธ ะธะฝะธัะธะฐะปะธะทะฐัะธะธ
- **ะะธัะบ**: ~15GB ะดะปั ะพะฑัะฐะทะพะฒ ะธ ะดะฐะฝะฝัั

### ะะฟัะธะผะธะทะฐัะธั
- ะัะฟะพะปัะทัะนัะต `make dev-start` ะดะปั ัะฐะทัะฐะฑะพัะบะธ
- ะะฐะฟััะบะฐะนัะต `make test-quick` ะดะปั ะฑัััััั ะธัะตัะฐัะธะน
- ะกะพััะฐะฝัะนัะต ัะพััะพัะฝะธะต ั `make backup-data`

## ๐ ะัะธะผะตัั ัะตััะพะฒัั ััะตะฝะฐัะธะตะฒ

### ะกัะตะฝะฐัะธะน 1: ะะพะธัะบ ะดะพะบัะผะตะฝัะฐัะธะธ ะฟะพ OAuth
```python
# ะะพะธัะบ ะฒ Confluence
pages = confluence.search_content("OAuth 2.0")

# ะะพะธัะบ ัะฒัะทะฐะฝะฝัั ะทะฐะดะฐั ะฒ Jira  
issues = jira.search_issues('summary ~ "OAuth"')

# ะกะตะผะฐะฝัะธัะตัะบะธะน ะฟะพะธัะบ ะฒ Elasticsearch
es_results = es.search(index="test_documents", 
                      body={"query": {"match": {"content": "authentication"}}})
```

### ะกัะตะฝะฐัะธะน 2: ะะฝะพะณะพัะทััะฝัะน workflow
```python
# ะกะพะทะดะฐะฝะธะต ะทะฐะดะฐัะธ ะฝะฐ ััััะบะพะผ ะฒ Jira
issue = jira.create_issue({
    "summary": "ะะตะฐะปะธะทะฐัะธั ะฐััะตะฝัะธัะธะบะฐัะธะธ",
    "description": "ะขะตัะฝะธัะตัะบะพะต ะทะฐะดะฐะฝะธะต ะฝะฐ ััััะบะพะผ ัะทัะบะต"
})

# ะกะพะทะดะฐะฝะธะต ัะฒัะทะฐะฝะฝะพะน ะดะพะบัะผะตะฝัะฐัะธะธ ะฒ Confluence
page = confluence.create_page(
    title="ะขะตัะฝะธัะตัะบะฐั ัะฟะตัะธัะธะบะฐัะธั",
    body="<p>ะะฟะธัะฐะฝะธะต ะฝะฐ ััััะบะพะผ ัะทัะบะต</p>"
)

# ะะฝะดะตะบัะฐัะธั ะฒ Elasticsearch ั ะผะตัะฐะดะฐะฝะฝัะผะธ ัะทัะบะฐ
es.index(index="documents", body={
    "title": "ะขะตัะฝะธัะตัะบะฐั ัะฟะตัะธัะธะบะฐัะธั", 
    "language": "ru",
    "source": "confluence"
})
```

## ๐ ะะตััะธะบะธ ะธ ะผะพะฝะธัะพัะธะฝะณ

### ะะฒัะพะผะฐัะธัะตัะบะธะต ะฟัะพะฒะตัะบะธ
- Health checks ะฒัะตั ัะตัะฒะธัะพะฒ
- ะัะพะฒะตัะบะฐ ะดะพัััะฟะฝะพััะธ API
- ะะฐะปะธะดะฐัะธั ัะตััะพะฒัั ะดะฐะฝะฝัั
- ะะพะฝะธัะพัะธะฝะณ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

### Reporting
- JUnit XML ัะตะทัะปััะฐัั ะดะปั CI
- ะะตัะฐะปัะฝัะต ะปะพะณะธ ะพะฟะตัะฐัะธะน
- ะะตััะธะบะธ ะฒัะตะผะตะฝะธ ะฒัะฟะพะปะฝะตะฝะธั
- Coverage ะพััะตัั (ะพะฟัะธะพะฝะฐะปัะฝะพ)

## ๐๏ธ ะะฐััะธัะตะฝะธะต ัะตััะพะฒ

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ัะตััะพะฒ
1. ะกะพะทะดะฐะนัะต ะบะปะฐัั `TestNewIntegration`
2. ะัะฟะพะปัะทัะนัะต ัะธะบััััั ะดะปั ะบะปะธะตะฝัะพะฒ
3. ะะพะฑะฐะฒััะต ัะพะพัะฒะตัััะฒัััะธะต ะผะฐัะบะตัั
4. ะะฑะฝะพะฒะธัะต ัะตััะพะฒัะต ะดะฐะฝะฝัะต ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ัะตัะฒะธัะพะฒ
1. ะะฐััะธัััะต `docker-compose.yml`
2. ะะพะฑะฐะฒััะต health checks
3. ะะฑะฝะพะฒะธัะต `test_data_loader.py`
4. ะกะพะทะดะฐะนัะต ัะธะบััััั ะฒ `test_integration.py`

### ะะฐััะพะผะธะทะฐัะธั ะดะฐะฝะฝัั
1. ะะพะดะธัะธัะธััะนัะต `test_data_loader.py`
2. ะะพะฑะฐะฒััะต ัะฐะนะปั ะฒ `test-data/` ะดะธัะตะบัะพัะธะธ
3. ะะฑะฝะพะฒะธัะต ะผะฐะฟะฟะธะฝะณะธ Elasticsearch
4. ะกะพะทะดะฐะนัะต ะดะพะฟะพะปะฝะธัะตะปัะฝัะต ะฑัะบะฐะฟั 