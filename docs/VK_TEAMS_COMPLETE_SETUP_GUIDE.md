# üöÄ –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ VK Teams –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ω—É–ª—è

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–∏-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
2. [–°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –≤ VK Teams](#2-—Å–æ–∑–¥–∞–Ω–∏–µ-–±–æ—Ç–∞-–≤-vk-teams)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)](#3-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-vk-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è-–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AI Assistant](#4-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-ai-assistant)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook](#5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-webhook)
6. [–ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#6-–∑–∞–ø—É—Å–∫-–∏-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
7. [–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#7-–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
8. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#8-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## 1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**

### ‚úÖ **–ß—Ç–æ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è:**

1. **VK Teams –∞–∫–∫–∞—É–Ω—Ç** (–∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –∏–ª–∏ –ª–∏—á–Ω—ã–π)
2. **AI Assistant** —É–∂–µ –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ–º–µ–Ω —Å HTTPS** –¥–ª—è webhook'–æ–≤ (–¥–ª—è production)
4. **–ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** –≤ VK Teams (–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤)

### üîß **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã:**

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ AI Assistant —Ä–∞–±–æ—Ç–∞–µ—Ç
curl -s http://localhost:8000/health

# –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
# {"status":"healthy","architecture":"hexagonal","environment":"development","version":"2.0.0"}

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ VK Teams –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞
curl -s http://localhost:8000/api/v1/vk-teams/bot/health

# –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
# {"status":"healthy","service":"vk-teams-bot","timestamp":"..."}
```

---

## 2. **–°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ –≤ VK Teams**

### ü§ñ **–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @MetaBot**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ VK Teams** –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
2. **–ù–∞–π–¥–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç @MetaBot** –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: https://teams.vk.com/contact/@metabot
3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:**
   ```
   /newbot
   ```

4. **–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º MetaBot'–∞:**

   **MetaBot —Å–ø—Ä–æ—Å–∏—Ç:** "–ö–∞–∫ –Ω–∞–∑–æ–≤—ë–º –≤–∞—à–µ–≥–æ –±–æ—Ç–∞?"
   ```
   AI Assistant Bot
   ```

   **MetaBot —Å–ø—Ä–æ—Å–∏—Ç:** "–¢–µ–ø–µ—Ä—å –ø—Ä–∏—à–ª–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞"
   ```
   –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫, —Å–æ–∑–¥–∞–Ω–∏–µ RFC, code review –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.
   ```

   **MetaBot —Å–ø—Ä–æ—Å–∏—Ç:** "–ü—Ä–∏—à–ª–∏—Ç–µ –∞–≤–∞—Ç–∞—Ä –¥–ª—è –±–æ—Ç–∞"
   ```
   –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–∞ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ /skip
   ```

### üìù **–®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞**

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞ **MetaBot –æ—Ç–ø—Ä–∞–≤–∏—Ç –≤–∞–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç–æ–∫–µ–Ω–æ–º:**

```
–ì–æ—Ç–æ–≤–æ! –í–æ—Ç —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞:
001.1234567890.abcdefghijklmnopqrstuvwxyz:1234567890abcdef

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ –Ω–∞–¥—ë–∂–Ω–æ–º –º–µ—Å—Ç–µ!
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω! –û–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### üîß **–®–∞–≥ 3: –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞**

**MetaBot –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ—Ç–∞:**

1. **–ö–æ–º–∞–Ω–¥—ã:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –¥–ª—è –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è
   ```
   /start - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø—Ä–∞–≤–∫–∞
   /help - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
   /search - –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
   /generate - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   /analyze - –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
   /status - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
   ```

2. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** –í—ã–±–µ—Ä–∏—Ç–µ, –∫—Ç–æ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –±–æ—Ç–∞ –≤ —á–∞—Ç—ã
   - –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - –õ—é–±—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

---

## 3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**

> üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ—Ç —à–∞–≥ –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ VK –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### üì± **–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞:** https://vk.com/apps?act=manage
2. **–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
3. **–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø:** "–í–µ–±-—Å–∞–π—Ç"
4. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:**
   - **–ù–∞–∑–≤–∞–Ω–∏–µ:** AI Assistant VK Integration
   - **–ê–¥—Ä–µ—Å —Å–∞–π—Ç–∞:** https://your-domain.com
   - **–ë–∞–∑–æ–≤—ã–π –¥–æ–º–µ–Ω:** your-domain.com

### üîë **–®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π**

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—É—á–∏—Ç–µ:
- **ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (Application ID)
- **–ó–∞—â–∏—â—ë–Ω–Ω—ã–π –∫–ª—é—á** (Secret Key)

### üë• **–®–∞–≥ 3: –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

–ü–æ–ª—É—á–∏—Ç–µ VK ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–º —Ä–∞–∑—Ä–µ—à—ë–Ω –¥–æ—Å—Ç—É–ø:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ VK**
2. **ID –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ URL:** `https://vk.com/id123456789` ‚Üí ID = `123456789`
3. **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ API:** `https://vk.com/dev/users.get`

---

## 4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AI Assistant**

### üìÅ **–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.vk_teams` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# ============================================================================
# VK Teams Bot Configuration
# ============================================================================

# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
VK_TEAMS_BOT_TOKEN=001.1234567890.abcdefghijklmnopqrstuvwxyz:1234567890abcdef
VK_TEAMS_BOT_NAME=AI Assistant Bot
VK_TEAMS_ENABLED=true

# URL –¥–ª—è VK Teams API
VK_TEAMS_API_URL=https://api.internal.myteam.mail.ru/bot/v1

# Webhook URL (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω)
VK_TEAMS_WEBHOOK_URL=https://your-domain.com/api/v1/vk-teams/webhook/events

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
VK_TEAMS_VERIFY_SIGNATURE=true
VK_TEAMS_SECRET_KEY=your-random-secret-key-here

# ============================================================================
# VK OAuth Configuration (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# ============================================================================

# –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ VK OAuth
VK_OAUTH_ENABLED=false

# –î–∞–Ω–Ω—ã–µ VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–µ—Å–ª–∏ VK_OAUTH_ENABLED=true)
VK_OAUTH_CLIENT_ID=your_vk_app_id
VK_OAUTH_CLIENT_SECRET=your_vk_app_secret
VK_OAUTH_REDIRECT_URI=https://your-domain.com/api/v1/auth/vk/callback

# –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö VK –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
ALLOWED_VK_USERS=123456789,987654321,555666777

# ============================================================================
# AI Assistant Configuration
# ============================================================================

# URL –≤–∞—à–µ–≥–æ AI Assistant API
AI_ASSISTANT_API_URL=http://localhost:8000
AI_ASSISTANT_API_KEY=your-api-key-if-needed

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
VK_TEAMS_AUTO_START=true
VK_TEAMS_DEFAULT_LANGUAGE=ru
VK_TEAMS_MAX_MESSAGE_LENGTH=4096
VK_TEAMS_TIMEOUT_SECONDS=30
```

### üîß **–®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

–î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π `.env` —Ñ–∞–π–ª:

```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π .env —Ñ–∞–π–ª
source .env.vk_teams
```

–ò–ª–∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã:

```bash
# –û–±—ä–µ–¥–∏–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cat .env.vk_teams >> .env
```

### üìù **–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä—è–º–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π `.env`:

```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ .env
echo "" >> .env
echo "# VK Teams Configuration" >> .env
echo "VK_TEAMS_BOT_TOKEN=001.your_bot_token_here" >> .env
echo "VK_TEAMS_ENABLED=true" >> .env
echo "VK_TEAMS_API_URL=https://api.internal.myteam.mail.ru/bot/v1" >> .env
echo "VK_TEAMS_WEBHOOK_URL=https://your-domain.com/api/v1/vk-teams/webhook/events" >> .env
```

---

## 5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook**

### üåê **–í–∞—Ä–∏–∞–Ω—Ç A: –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)**

#### **–®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ngrok**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ngrok –¥–ª—è —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è
curl -s https://ngrok-agent.s3.amazonaws.com/ngrok.asc | sudo tee /etc/apt/trusted.gpg.d/ngrok.asc >/dev/null
echo "deb https://ngrok-agent.s3.amazonaws.com buster main" | sudo tee /etc/apt/sources.list.d/ngrok.list
sudo apt update && sudo apt install ngrok

# –ò–ª–∏ —á–µ—Ä–µ–∑ brew –Ω–∞ macOS
brew install ngrok

# –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å https://ngrok.com/download
```

#### **–®–∞–≥ 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ngrok**

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞:** https://ngrok.com
2. **–ü–æ–ª—É—á–∏—Ç–µ authtoken:** https://dashboard.ngrok.com/get-started/your-authtoken
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ ngrok:**

```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à authtoken
ngrok authtoken YOUR_NGROK_AUTHTOKEN
```

#### **–®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —Ç—É–Ω–Ω–µ–ª—è**

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
ngrok http 8000

# –í—ã –ø–æ–ª—É—á–∏—Ç–µ URL –≤–∏–¥–∞: https://abc123.ngrok.io
```

#### **–®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ webhook URL –≤ .env
VK_TEAMS_WEBHOOK_URL=https://abc123.ngrok.io/api/v1/vk-teams/webhook/events
```

### üè¢ **–í–∞—Ä–∏–∞–Ω—Ç B: –î–ª—è production (–ø—É–±–ª–∏—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)**

#### **–®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞**

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∞—à –¥–æ–º–µ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω SSL:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
curl -I https://your-domain.com/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK
```

#### **–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ nginx (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)**

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é nginx:

```nginx
# /etc/nginx/sites-available/ai-assistant
server {
    listen 443 ssl;
    server_name your-domain.com;
    
    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
    ssl_certificate /path/to/your/certificate.crt;
    ssl_certificate_key /path/to/your/private.key;
    
    # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    location / {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    
    # –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è VK Teams webhook
    location /api/v1/vk-teams/webhook/ {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ AI –∑–∞–ø—Ä–æ—Å–æ–≤
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }
}
```

#### **–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏**

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å webhook endpoint
curl -X POST https://your-domain.com/api/v1/vk-teams/webhook/test \
  -H "Content-Type: application/json" \
  -d '{"test": "ping"}'

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```

---

## 6. **–ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### üöÄ **–®–∞–≥ 1: –ó–∞–ø—É—Å–∫ AI Assistant**

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å –µ—Å–ª–∏ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
pkill -f "python.*main.py"

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
python main.py --port 8000 --host localhost
```

### üîß **–®–∞–≥ 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ API**

```bash
# –ü–æ–ª—É—á–∏—Ç–µ JWT —Ç–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API
TOKEN=$(curl -X POST http://localhost:8000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email": "admin@vkteam.ru", "password": "admin"}' | jq -r '.access_token')

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ VK Teams –±–æ—Ç–∞
curl -X POST "http://localhost:8000/api/v1/vk-teams/bot/configure" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $TOKEN" \
  -d '{
    "bot_token": "001.your_bot_token_here",
    "api_url": "https://api.internal.myteam.mail.ru/bot/v1",
    "webhook_url": "https://your-domain.com/api/v1/vk-teams/webhook/events",
    "auto_start": true,
    "allowed_users": [],
    "allowed_chats": []
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "Bot configured successfully",
  "config": {
    "bot_id": "your_bot_id",
    "is_active": true,
    "webhook_url": "https://your-domain.com/api/v1/vk-teams/webhook/events"
  }
}
```

### üß™ **–®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞**

#### **3.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**

```bash
curl -X GET "http://localhost:8000/api/v1/vk-teams/bot/status" \
  -H "Authorization: Bearer $TOKEN"
```

#### **3.2 –¢–µ—Å—Ç –≤ VK Teams:**

1. **–ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞** –≤ VK Teams (–ø–æ –∏–º–µ–Ω–∏, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã —É–∫–∞–∑–∞–ª–∏)
2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:** `/start`
3. **–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
   ```
   ü§ñ –ü—Ä–∏–≤–µ—Ç! –Ø AI Assistant Bot
   
   –Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å –ø–æ–∏—Å–∫–æ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑–æ–º –∫–æ–¥–∞.
   
   –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
   /help - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
   /search - –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
   /generate - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   /analyze - –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
   /status - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
   
   –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã!
   ```

#### **3.3 –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:**

```
# –¢–µ—Å—Ç –ø–æ–∏—Å–∫–∞
/search REST API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

# –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
/generate RFC –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

# –¢–µ—Å—Ç –∞–Ω–∞–ª–∏–∑–∞
/analyze –∫–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Python –∫–æ–¥–∞

# –û–±—ã—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å
–û–±—ä—è—Å–Ω–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã SOLID –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏
```

### üìä **–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤**

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f app.log | grep -E "(vk.teams|bot|webhook)"

# –ò–ª–∏ —á–µ—Ä–µ–∑ –∂—É—Ä–Ω–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
curl -X GET "http://localhost:8000/api/v1/vk-teams/bot/stats" \
  -H "Authorization: Bearer $TOKEN"
```

---

## 7. **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**

### üîê **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

#### **7.1 –í–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏:**

```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ .env
VK_TEAMS_VERIFY_SIGNATURE=true
VK_TEAMS_SECRET_KEY=your-super-secret-key-min-32-characters
```

#### **7.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ø–∏—Å–∫–∞ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**

```bash
# –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
ALLOWED_VK_USERS=123456789,987654321,555666777

# –ò–ª–∏ —á–µ—Ä–µ–∑ API
curl -X POST "http://localhost:8000/api/v1/vk-teams/bot/configure" \
  -H "Authorization: Bearer $TOKEN" \
  -d '{
    "allowed_users": ["123456789", "987654321"],
    "allowed_chats": ["chat_id_1", "chat_id_2"]
  }'
```

### üé® **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**

#### **7.1 –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π:**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config/vk_teams_messages.yml`:

```yaml
# –°–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞
messages:
  welcome: |
    ü§ñ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ AI Assistant!
    
    –Ø –≤–∞—à –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è:
    ‚Ä¢ üîç –ü–æ–∏—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
    ‚Ä¢ üìù –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    ‚Ä¢ üîß –ê–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞
    ‚Ä¢ üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á
    
    –ù–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã!
    
  help: |
    üìö –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
    
    üîç **–ü–æ–∏—Å–∫:**
    /search <–∑–∞–ø—Ä–æ—Å> - –ü–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
    
    üìù **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è:**
    /generate <–æ–ø–∏—Å–∞–Ω–∏–µ> - –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    /rfc <–æ–ø–∏—Å–∞–Ω–∏–µ> - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è RFC
    
    üîß **–ê–Ω–∞–ª–∏–∑:**
    /analyze <–∫–æ–¥> - –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
    /review <–∫–æ–¥> - Code review
    
    ‚öôÔ∏è **–°–∏—Å—Ç–µ–º–∞:**
    /status - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
    /stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    
  error: |
    ‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞.
    
    –ü–æ–ø—Ä–æ–±—É–π—Ç–µ:
    ‚Ä¢ –ü–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å
    ‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã /help
    ‚Ä¢ –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
    
  access_denied: |
    üö´ –î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω
    
    –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.
```

#### **7.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫:**

```yaml
# –ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏
quick_buttons:
  - text: "üîç –ü–æ–∏—Å–∫"
    command: "/search"
  - text: "üìù –ì–µ–Ω–µ—Ä–∞—Ü–∏—è"
    command: "/generate"
  - text: "üîß –ê–Ω–∞–ª–∏–∑"
    command: "/analyze"
  - text: "‚ùì –ü–æ–º–æ—â—å"
    command: "/help"
```

### üìà **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**

#### **7.1 –í–∫–ª—é—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**

```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ .env
LOG_LEVEL=DEBUG
VK_TEAMS_LOG_MESSAGES=true
VK_TEAMS_LOG_REQUESTS=true
```

#### **7.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ—Ç—Ä–∏–∫:**

```bash
# Prometheus –º–µ—Ç—Ä–∏–∫–∏
curl http://localhost:8000/metrics | grep vk_teams

# –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
curl -X GET "http://localhost:8000/api/v1/vk-teams/bot/metrics" \
  -H "Authorization: Bearer $TOKEN"
```

#### **7.3 Webhook –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
VK_TEAMS_MONITORING_WEBHOOK=https://your-monitoring-system.com/webhook
VK_TEAMS_ALERT_ON_ERRORS=true
VK_TEAMS_ALERT_THRESHOLD=10
```

---

## 8. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**

### üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞**

#### **8.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**

```bash
# –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞
curl "http://localhost:8000/api/v1/vk-teams/bot/status" | jq

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl "http://localhost:8000/api/v1/vk-teams/bot/stats" | jq

# –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã
curl "http://localhost:8000/api/v1/vk-teams/bot/health" | jq
```

#### **8.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook'–∞:**

```bash
# –¢–µ—Å—Ç webhook'–∞
curl -X POST "http://localhost:8000/api/v1/vk-teams/webhook/test" \
  -H "Content-Type: application/json" \
  -d '{"test_event": "ping", "test_data": {"message": "Hello Bot!"}}'
```

### üîß **–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è**

#### **–ü—Ä–æ–±–ª–µ–º–∞ 1: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f app.log | grep -i "vk.teams\|bot\|webhook"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook
curl -I https://your-domain.com/api/v1/vk-teams/webhook/events
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–≤–µ—Ä–Ω—ã–π webhook URL
- –ü—Ä–æ–±–ª–µ–º—ã —Å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ñ–∞–π–µ—Ä–≤–æ–ª–æ–º
- –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–π—Ç–µ webhook
curl -X POST "http://localhost:8000/api/v1/vk-teams/bot/configure" \
  -H "Authorization: Bearer $TOKEN" \
  -d '{"webhook_url": "https://correct-domain.com/api/v1/vk-teams/webhook/events"}'
```

#### **–ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω
curl -X GET "http://localhost:8000/api/v1/vk-teams/bot/status" \
  -H "Authorization: Bearer invalid_token"
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
TOKEN=$(curl -X POST http://localhost:8000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email": "admin@vkteam.ru", "password": "admin"}' | jq -r '.access_token')
```

#### **–ü—Ä–æ–±–ª–µ–º–∞ 3: VK OAuth –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é VK OAuth
curl "http://localhost:8000/api/v1/auth/vk/config"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl "http://localhost:8000/api/v1/auth/vk/check-access/123456789"
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ VK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
VK_OAUTH_CLIENT_ID=correct_client_id
VK_OAUTH_CLIENT_SECRET=correct_secret
VK_OAUTH_REDIRECT_URI=https://your-domain.com/api/v1/auth/vk/callback
```

#### **–ü—Ä–æ–±–ª–µ–º–∞ 4: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–æ—Ç–∞**

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
curl "http://localhost:8000/api/v1/vk-teams/bot/stats" | jq '.performance'

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–∏—Å—Ç–µ–º—É
curl "http://localhost:8000/api/v1/monitoring/metrics/current" | jq
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã
VK_TEAMS_TIMEOUT_SECONDS=60
VK_TEAMS_MAX_CONCURRENT_REQUESTS=5

# –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ AI –º–æ–¥–µ–ª—å
AI_MODEL_CACHE_ENABLED=true
AI_MODEL_MAX_TOKENS=2048
```

### üìù **–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏**

```bash
# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
echo "=== AI Assistant Status ==="
curl -s http://localhost:8000/health | jq

echo "=== VK Teams Bot Status ==="
curl -s "http://localhost:8000/api/v1/vk-teams/bot/status" \
  -H "Authorization: Bearer $TOKEN" | jq

echo "=== Budget Status ==="
curl -s "http://localhost:8000/api/v1/budget/system-stats" \
  -H "Authorization: Bearer $TOKEN" | jq

echo "=== System Metrics ==="
curl -s "http://localhost:8000/api/v1/monitoring/metrics/current" | jq

echo "=== Logs (last 20 lines) ==="
tail -20 app.log
```

### üöÄ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `monitor_vk_teams.sh`:

```bash
#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ VK Teams –±–æ—Ç–∞
TOKEN=$(curl -s -X POST http://localhost:8000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email": "admin@vkteam.ru", "password": "admin"}' | jq -r '.access_token')

if [ "$TOKEN" = "null" ] || [ -z "$TOKEN" ]; then
    echo "‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"
    exit 1
fi

echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ VK Teams –±–æ—Ç–∞..."
STATUS=$(curl -s "http://localhost:8000/api/v1/vk-teams/bot/status" \
  -H "Authorization: Bearer $TOKEN" | jq -r '.is_active')

if [ "$STATUS" = "true" ]; then
    echo "‚úÖ VK Teams –±–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω"
else
    echo "‚ùå VK Teams –±–æ—Ç –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω"
    echo "üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞..."
    
    curl -s -X POST "http://localhost:8000/api/v1/vk-teams/bot/start" \
      -H "Authorization: Bearer $TOKEN"
    
    echo "‚úÖ –ö–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞"
fi

echo "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å:"
curl -s "http://localhost:8000/api/v1/vk-teams/bot/stats" \
  -H "Authorization: Bearer $TOKEN" | jq '.messages_last_hour'
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ cron:

```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ crontab (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
*/5 * * * * /path/to/monitor_vk_teams.sh >> /var/log/vk_teams_monitor.log 2>&1
```

---

## üéâ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è VK Teams —Å AI Assistant! 

### ‚úÖ **–ß—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å:**

1. **–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π VK Teams –±–æ—Ç** —Å AI –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —á–µ—Ä–µ–∑ VK OAuth (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. **Webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –¥–ª—è real-time –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
5. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üöÄ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

1. **–î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≤–∞—à–∏ —Ä–∞–±–æ—á–∏–µ —á–∞—Ç—ã**
2. **–û–±—É—á–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–æ—Ç–∞**
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö**
4. **–ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–π—Ç–µ –æ—Ç–≤–µ—Ç—ã –ø–æ–¥ –≤–∞—à—É –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å**
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏**

### üìö **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:**

- **[VK Teams Bot API](https://teams.vk.com/botapi/)** - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[AI Assistant API Reference](docs/API_REFERENCE_COMPLETE.md)** - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API
- **[VK Teams Integration Guide](docs/integrations/VK_TEAMS_INTEGRATION.md)** - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[Budget System Guide](docs/BUDGET_SYSTEM_GUIDE.md)** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞–º–∏
- **[User Management Guide](docs/USER_MANAGEMENT_GUIDE.md)** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

**–£–¥–∞—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è! ü§ñ‚ú®** 