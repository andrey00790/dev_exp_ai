{"openapi":"3.1.0","info":{"title":"AI Assistant with Hexagonal Architecture","description":"Production-ready AI assistant with clean architecture and Context7 integration","version":"2.0.0"},"paths":{"/api/v1/auth/register":{"post":{"tags":["authentication"],"summary":"Register","description":"Register a new user","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["authentication"],"summary":"Login","description":"Authenticate user and create session","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["authentication"],"summary":"Logout","description":"Logout user by invalidating session","operationId":"logout_api_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/refresh":{"post":{"tags":["authentication"],"summary":"Refresh Token","description":"Refresh access token","operationId":"refresh_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRefreshRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["authentication"],"summary":"Get Current User Profile","description":"Get current user profile","operationId":"get_current_user_profile_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/profile":{"put":{"tags":["authentication"],"summary":"Update Profile","description":"Update user profile","operationId":"update_profile_api_v1_auth_profile_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/change-password":{"post":{"tags":["authentication"],"summary":"Change Password","description":"Change user password","operationId":"change_password_api_v1_auth_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/users/{user_id}/roles":{"post":{"tags":["authentication"],"summary":"Assign Role To User","description":"Assign role to user (admin only)","operationId":"assign_role_to_user_api_v1_auth_users__user_id__roles_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssignRoleRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/users/{user_id}/roles/{role_name}":{"delete":{"tags":["authentication"],"summary":"Revoke Role From User","description":"Revoke role from user (admin only)","operationId":"revoke_role_from_user_api_v1_auth_users__user_id__roles__role_name__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"role_name","in":"path","required":true,"schema":{"type":"string","title":"Role Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/permissions/check":{"post":{"tags":["authentication"],"summary":"Check Permission","description":"Check if current user has specific permission","operationId":"check_permission_api_v1_auth_permissions_check_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"permission","in":"query","required":true,"schema":{"type":"string","title":"Permission"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/permissions":{"get":{"tags":["authentication"],"summary":"Get User Permissions","description":"Get all permissions for current user","operationId":"get_user_permissions_api_v1_auth_permissions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/sessions/cleanup":{"post":{"tags":["authentication"],"summary":"Cleanup Expired Sessions","description":"Cleanup expired sessions (admin only)","operationId":"cleanup_expired_sessions_api_v1_auth_sessions_cleanup_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/budget/budget/status":{"get":{"tags":["Budget Management"],"summary":"Budget Status","description":"Получить текущий статус бюджета пользователя","operationId":"get_budget_status_api_v1_budget_budget_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetStatusResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/budget/budget/refill":{"post":{"tags":["Budget Management"],"summary":"Manual Budget Refill","description":"Ручное пополнение бюджета пользователя (только для администраторов)","operationId":"manual_refill_api_v1_budget_budget_refill_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ManualRefillRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/budget/budget/history":{"get":{"tags":["Budget Management"],"summary":"Budget Refill History","description":"Получить историю пополнений бюджета","operationId":"get_refill_history_api_v1_budget_budget_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ID пользователя (если не указан - все пользователи)","title":"User Id"},"description":"ID пользователя (если не указан - все пользователи)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Максимальное количество записей","default":100,"title":"Limit"},"description":"Максимальное количество записей"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Номер страницы","default":1,"title":"Page"},"description":"Номер страницы"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefillHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budget/budget/system-stats":{"get":{"tags":["Budget Management"],"summary":"Budget System Statistics","description":"Получить статистику системы управления бюджетами (только для администраторов)","operationId":"get_system_statistics_api_v1_budget_budget_system_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemStatsResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/budget/budget/scheduler/restart":{"post":{"tags":["Budget Management"],"summary":"Restart Budget Scheduler","description":"Перезапустить планировщик автоматического пополнения (только для администраторов)","operationId":"restart_scheduler_api_v1_budget_budget_scheduler_restart_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/budget/budget/scheduler/run-now":{"post":{"tags":["Budget Management"],"summary":"Run Budget Refill Now","description":"Запустить пополнение бюджетов немедленно (только для администраторов)","operationId":"run_refill_now_api_v1_budget_budget_scheduler_run_now_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/budget/budget/config":{"get":{"tags":["Budget Management"],"summary":"Get Budget Configuration","description":"Получить конфигурацию системы бюджетов (только для администраторов)","operationId":"get_budget_config_api_v1_budget_budget_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/budget/budget/auth/budget/status":{"get":{"tags":["Budget Management"],"summary":"Budget Status (Legacy)","description":"Получить статус бюджета (совместимость с legacy API)","operationId":"legacy_budget_status_api_v1_budget_budget_auth_budget_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetStatusResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/budget/budget/monitoring/budget/metrics":{"get":{"tags":["Budget Management"],"summary":"Budget Metrics","description":"Получить метрики бюджетов для мониторинга","operationId":"get_budget_metrics_api_v1_budget_budget_monitoring_budget_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/vk-teams/bot/vk-teams/bot/status":{"get":{"tags":["VK Teams Bot Management"],"summary":"Get Bot Status","description":"Получить статус VK Teams бота\n\nВозвращает информацию о текущем состоянии бота:\n- Активен ли бот\n- Информация о боте\n- Статистика использования","operationId":"get_bot_status_api_v1_vk_teams_bot_vk_teams_bot_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BotStatusResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/vk-teams/bot/vk-teams/bot/configure":{"post":{"tags":["VK Teams Bot Management"],"summary":"Configure Bot","description":"Настроить VK Teams бота\n\nКонфигурирует бота с указанными параметрами:\n- Токен бота\n- API URL\n- Webhook URL\n- Настройки доступа","operationId":"configure_bot_api_v1_vk_teams_bot_vk_teams_bot_configure_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BotConfigRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BotConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/vk-teams/bot/vk-teams/bot/start":{"post":{"tags":["VK Teams Bot Management"],"summary":"Start Bot","description":"Запустить VK Teams бота\n\nАктивирует бота для обработки сообщений","operationId":"start_bot_api_v1_vk_teams_bot_vk_teams_bot_start_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Start Bot Api V1 Vk Teams Bot Vk Teams Bot Start Post"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/vk-teams/bot/vk-teams/bot/stop":{"post":{"tags":["VK Teams Bot Management"],"summary":"Stop Bot","description":"Остановить VK Teams бота\n\nДеактивирует бота","operationId":"stop_bot_api_v1_vk_teams_bot_vk_teams_bot_stop_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Stop Bot Api V1 Vk Teams Bot Vk Teams Bot Stop Post"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/vk-teams/bot/vk-teams/bot/stats":{"get":{"tags":["VK Teams Bot Management"],"summary":"Get Bot Stats","description":"Получить статистику бота\n\nВозвращает статистику использования бота","operationId":"get_bot_stats_api_v1_vk_teams_bot_vk_teams_bot_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Bot Stats Api V1 Vk Teams Bot Vk Teams Bot Stats Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/vk-teams/bot/vk-teams/bot/health":{"get":{"tags":["VK Teams Bot Management"],"summary":"Bot Health Check","description":"Проверка здоровья VK Teams бота\n\nEndpoint для мониторинга состояния бота","operationId":"bot_health_check_api_v1_vk_teams_bot_vk_teams_bot_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Bot Health Check Api V1 Vk Teams Bot Vk Teams Bot Health Get"}}}}}}},"/api/v1/vk-teams/webhook/vk-teams/webhook/events":{"post":{"tags":["VK Teams Webhook"],"summary":"Handle Webhook Event","description":"Обработчик webhook событий от VK Teams\n\nПринимает события от VK Teams и обрабатывает их:\n- Новые сообщения\n- Команды\n- Кнопки\n- Другие события","operationId":"handle_webhook_event_api_v1_vk_teams_webhook_vk_teams_webhook_events_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookEvent"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Handle Webhook Event Api V1 Vk Teams Webhook Vk Teams Webhook Events Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vk-teams/webhook/vk-teams/webhook/messages":{"post":{"tags":["VK Teams Webhook"],"summary":"Handle Message Event","description":"Специализированный обработчик для сообщений\n\nОбрабатывает только события новых сообщений","operationId":"handle_message_event_api_v1_vk_teams_webhook_vk_teams_webhook_messages_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Handle Message Event Api V1 Vk Teams Webhook Vk Teams Webhook Messages Post"}}}}}}},"/api/v1/vk-teams/webhook/vk-teams/webhook/callback":{"post":{"tags":["VK Teams Webhook"],"summary":"Handle Callback Query","description":"Обработчик callback запросов (нажатие кнопок)\n\nОбрабатывает события нажатий на inline кнопки","operationId":"handle_callback_query_api_v1_vk_teams_webhook_vk_teams_webhook_callback_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Handle Callback Query Api V1 Vk Teams Webhook Vk Teams Webhook Callback Post"}}}}}}},"/api/v1/vk-teams/webhook/vk-teams/webhook/health":{"get":{"tags":["VK Teams Webhook"],"summary":"Webhook Health Check","description":"Проверка здоровья webhook endpoint'а\n\nИспользуется для мониторинга доступности webhook'а","operationId":"webhook_health_check_api_v1_vk_teams_webhook_vk_teams_webhook_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Webhook Health Check Api V1 Vk Teams Webhook Vk Teams Webhook Health Get"}}}}}}},"/api/v1/vk-teams/webhook/vk-teams/webhook/test":{"post":{"tags":["VK Teams Webhook"],"summary":"Test Webhook","description":"Тестовый endpoint для проверки работы webhook'а\n\nПозволяет протестировать обработку событий без VK Teams","operationId":"test_webhook_api_v1_vk_teams_webhook_vk_teams_webhook_test_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Test Data"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Test Webhook Api V1 Vk Teams Webhook Vk Teams Webhook Test Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AssignRoleRequest":{"properties":{"role_name":{"type":"string","title":"Role Name"}},"type":"object","required":["role_name"],"title":"AssignRoleRequest"},"AuthResponse":{"properties":{"user":{"$ref":"#/components/schemas/UserResponse"},"session":{"$ref":"#/components/schemas/SessionResponse"}},"type":"object","required":["user","session"],"title":"AuthResponse"},"BotConfigRequest":{"properties":{"bot_token":{"type":"string","title":"Bot Token"},"api_url":{"type":"string","title":"Api Url"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url"},"auto_start":{"type":"boolean","title":"Auto Start","default":true},"allowed_users":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Users"},"allowed_chats":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Chats"}},"type":"object","required":["bot_token","api_url"],"title":"BotConfigRequest","description":"Запрос настройки бота"},"BotConfigResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"config":{"additionalProperties":true,"type":"object","title":"Config","default":{}}},"type":"object","required":["success","message"],"title":"BotConfigResponse","description":"Ответ настройки бота"},"BotStatusResponse":{"properties":{"is_active":{"type":"boolean","title":"Is Active"},"bot_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bot Id"},"bot_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bot Name"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url"},"last_activity":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Activity"},"stats":{"additionalProperties":true,"type":"object","title":"Stats","default":{}}},"type":"object","required":["is_active"],"title":"BotStatusResponse","description":"Ответ статуса бота"},"BudgetStatusResponse":{"properties":{"user_id":{"type":"string","title":"User Id"},"email":{"type":"string","title":"Email"},"current_usage":{"type":"number","title":"Current Usage"},"budget_limit":{"type":"number","title":"Budget Limit"},"remaining_balance":{"type":"number","title":"Remaining Balance"},"usage_percentage":{"type":"number","title":"Usage Percentage"},"budget_status":{"type":"string","title":"Budget Status"},"last_refill":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Last Refill"},"total_refills":{"type":"integer","title":"Total Refills"},"total_refilled":{"type":"number","title":"Total Refilled"}},"type":"object","required":["user_id","email","current_usage","budget_limit","remaining_balance","usage_percentage","budget_status","total_refills","total_refilled"],"title":"BudgetStatusResponse","description":"Ответ со статусом бюджета"},"ChangePasswordRequest":{"properties":{"old_password":{"type":"string","title":"Old Password"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["old_password","new_password"],"title":"ChangePasswordRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"LoginRequest"},"ManualRefillRequest":{"properties":{"user_id":{"type":"string","title":"User Id","description":"ID пользователя"},"amount":{"type":"number","exclusiveMinimum":0.0,"title":"Amount","description":"Сумма пополнения"},"refill_type":{"type":"string","title":"Refill Type","description":"Тип пополнения: add или reset","default":"add"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason","description":"Причина пополнения"}},"type":"object","required":["user_id","amount"],"title":"ManualRefillRequest","description":"Запрос на ручное пополнение бюджета"},"RefillHistoryResponse":{"properties":{"refills":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Refills"},"total_count":{"type":"integer","title":"Total Count"},"page":{"type":"integer","title":"Page"},"limit":{"type":"integer","title":"Limit"}},"type":"object","required":["refills","total_count","page","limit"],"title":"RefillHistoryResponse","description":"Ответ с историей пополнений"},"RegisterRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"name":{"type":"string","title":"Name"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","name","password"],"title":"RegisterRequest"},"SessionResponse":{"properties":{"id":{"type":"string","title":"Id"},"token":{"type":"string","title":"Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"expires_at":{"type":"string","title":"Expires At"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","token","refresh_token","expires_at","is_active"],"title":"SessionResponse"},"SystemStatsResponse":{"properties":{"total_refills":{"type":"integer","title":"Total Refills"},"successful_refills":{"type":"integer","title":"Successful Refills"},"failed_refills":{"type":"integer","title":"Failed Refills"},"success_rate":{"type":"number","title":"Success Rate"},"total_amount_refilled":{"type":"number","title":"Total Amount Refilled"},"average_refill_amount":{"type":"number","title":"Average Refill Amount"},"recent_refills_24h":{"type":"integer","title":"Recent Refills 24H"},"recent_amount_24h":{"type":"number","title":"Recent Amount 24H"},"last_refill":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Refill"},"scheduler_running":{"type":"boolean","title":"Scheduler Running"}},"type":"object","required":["total_refills","successful_refills","failed_refills","success_rate","total_amount_refilled","average_refill_amount","recent_refills_24h","recent_amount_24h","last_refill","scheduler_running"],"title":"SystemStatsResponse","description":"Ответ со статистикой системы"},"TokenRefreshRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token"}},"type":"object","required":["refresh_token"],"title":"TokenRefreshRequest"},"UserResponse":{"properties":{"id":{"type":"string","title":"Id"},"email":{"type":"string","title":"Email"},"name":{"type":"string","title":"Name"},"roles":{"items":{"type":"string"},"type":"array","title":"Roles"},"status":{"type":"string","title":"Status"},"last_login":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Login"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","email","name","roles","status","created_at"],"title":"UserResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WebhookEvent":{"properties":{"eventType":{"type":"string","title":"Eventtype"},"eventId":{"type":"string","title":"Eventid"},"timestamp":{"type":"integer","title":"Timestamp"},"payload":{"additionalProperties":true,"type":"object","title":"Payload"}},"type":"object","required":["eventType","eventId","timestamp","payload"],"title":"WebhookEvent","description":"Модель события от VK Teams"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}