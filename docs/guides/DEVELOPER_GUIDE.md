# üõ†Ô∏è AI Assistant MVP - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

**–í–µ—Ä—Å–∏—è:** 4.0  
**–î–∞—Ç–∞:** 14.06.2025  
**–°—Ç–∞—Ç—É—Å:** Production Ready

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ   Backend       ‚îÇ    ‚îÇ   External      ‚îÇ
‚îÇ   React + TS    ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   FastAPI       ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   Services      ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ Chat UI       ‚îÇ    ‚îÇ ‚Ä¢ REST API      ‚îÇ    ‚îÇ ‚Ä¢ OpenAI        ‚îÇ
‚îÇ ‚Ä¢ Search        ‚îÇ    ‚îÇ ‚Ä¢ WebSocket     ‚îÇ    ‚îÇ ‚Ä¢ Anthropic     ‚îÇ
‚îÇ ‚Ä¢ RFC Gen       ‚îÇ    ‚îÇ ‚Ä¢ Auth          ‚îÇ    ‚îÇ ‚Ä¢ Ollama        ‚îÇ
‚îÇ ‚Ä¢ Docs Gen      ‚îÇ    ‚îÇ ‚Ä¢ Monitoring    ‚îÇ    ‚îÇ ‚Ä¢ Confluence    ‚îÇ
‚îÇ ‚Ä¢ Settings      ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ ‚Ä¢ Jira          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ ‚Ä¢ GitLab        ‚îÇ
                                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                       ‚îÇ
           ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Databases     ‚îÇ    ‚îÇ   Infrastructure‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ PostgreSQL    ‚îÇ    ‚îÇ ‚Ä¢ Docker        ‚îÇ
‚îÇ ‚Ä¢ Qdrant        ‚îÇ    ‚îÇ ‚Ä¢ Prometheus    ‚îÇ
‚îÇ ‚Ä¢ Redis (opt)   ‚îÇ    ‚îÇ ‚Ä¢ Nginx         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

#### Backend (FastAPI)
```
app/
‚îú‚îÄ‚îÄ main.py                 # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ api/                   # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ health.py          # Health checks
‚îÇ   ‚îî‚îÄ‚îÄ v1/                # API v1
‚îÇ       ‚îú‚îÄ‚îÄ search.py      # –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
‚îÇ       ‚îú‚îÄ‚îÄ generate.py    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è RFC
‚îÇ       ‚îú‚îÄ‚îÄ documentation.py # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
‚îÇ       ‚îú‚îÄ‚îÄ auth.py        # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ users.py       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ feedback.py    # –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ services/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ models/               # Pydantic –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ security/             # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îî‚îÄ‚îÄ monitoring/           # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```

#### Frontend (React + TypeScript)
```
frontend/src/
‚îú‚îÄ‚îÄ components/           # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ chat/            # Chat –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ search/          # –ü–æ–∏—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ generate/        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è RFC
‚îÇ   ‚îú‚îÄ‚îÄ documentation/   # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ settings/        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ pages/               # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ‚îÄ hooks/               # Custom hooks
‚îú‚îÄ‚îÄ services/            # API –∫–ª–∏–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ stores/              # State management
‚îî‚îÄ‚îÄ types/               # TypeScript —Ç–∏–ø—ã
```

## üîå API Reference

### –ë–∞–∑–æ–≤—ã–π URL
```
http://localhost:8000/api/v1
```

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```http
POST /auth/login
Content-Type: application/json

{
  "username": "user@company.com",
  "password": "secure_password"
}
```

**Response:**
```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "token_type": "bearer",
  "expires_in": 86400
}
```

### –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫

#### –ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫
```http
POST /search
Authorization: Bearer {token}
Content-Type: application/json

{
  "query": "–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞",
  "limit": 10,
  "filters": {
    "sources": ["confluence", "gitlab"],
    "date_from": "2024-01-01"
  }
}
```

#### –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
```http
POST /vector-search/search
Authorization: Bearer {token}
Content-Type: application/json

{
  "query": "OAuth 2.0 implementation",
  "collection_name": "search_sources",
  "limit": 5,
  "score_threshold": 0.7
}
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è RFC

#### –ù–∞—á–∞–ª–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
```http
POST /generate
Authorization: Bearer {token}
Content-Type: application/json

{
  "task_type": "new_feature",
  "initial_request": "–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
  "context": "Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π"
}
```

#### –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
```http
POST /generate/answer
Authorization: Bearer {token}
Content-Type: application/json

{
  "session_id": "session_abc123",
  "answers": [
    {
      "question_id": "q1",
      "answer": ["Push notifications", "In-app notifications"]
    }
  ]
}
```

#### –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è RFC
```http
POST /generate/finalize
Authorization: Bearer {token}
Content-Type: application/json

{
  "session_id": "session_abc123",
  "additional_requirements": "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ iOS –∏ Android"
}
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

#### –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
```http
POST /documentation/analyze
Authorization: Bearer {token}
Content-Type: application/json

{
  "code_input": {
    "filename": "main.py",
    "content": "from fastapi import FastAPI...",
    "language": "python"
  }
}
```

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
```http
POST /documentation/generate
Authorization: Bearer {token}
Content-Type: application/json

{
  "documentation_type": "api_docs",
  "code_input": "...",
  "target_audience": "developers",
  "detail_level": "detailed",
  "include_examples": true
}
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### PostgreSQL Schema

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
```sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    username VARCHAR(255) UNIQUE NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMP DEFAULT NOW()
);

-- –°–µ—Å—Å–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ RFC
CREATE TABLE generation_sessions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(id),
    task_type VARCHAR(50) NOT NULL,
    initial_request TEXT NOT NULL,
    context TEXT,
    status VARCHAR(50) DEFAULT 'active',
    created_at TIMESTAMP DEFAULT NOW()
);

-- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ RFC
CREATE TABLE generated_rfcs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    session_id UUID REFERENCES generation_sessions(id),
    title VARCHAR(500) NOT NULL,
    content TEXT NOT NULL,
    template_used VARCHAR(100),
    llm_provider VARCHAR(50),
    generation_time_ms INTEGER,
    quality_score DECIMAL(3,2),
    created_at TIMESTAMP DEFAULT NOW()
);

-- –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
CREATE TABLE data_sources (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(id),
    source_type VARCHAR(50) NOT NULL,
    name VARCHAR(255) NOT NULL,
    config JSONB NOT NULL,
    is_enabled BOOLEAN DEFAULT true,
    last_sync_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW()
);

-- –î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–∏—Å–∫–∞
CREATE TABLE documents (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    source_id UUID REFERENCES data_sources(id),
    title VARCHAR(500) NOT NULL,
    content TEXT NOT NULL,
    url VARCHAR(1000),
    metadata JSONB,
    vector_id VARCHAR(255), -- Qdrant point ID
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
CREATE TABLE feedback (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(id),
    target_type VARCHAR(50) NOT NULL, -- 'rfc', 'search_result', 'documentation'
    target_id UUID NOT NULL,
    feedback_type VARCHAR(50) NOT NULL, -- 'like', 'dislike', 'rating'
    rating INTEGER CHECK (rating BETWEEN 1 AND 5),
    comment TEXT,
    created_at TIMESTAMP DEFAULT NOW()
);

-- –ú–µ—Ç—Ä–∏–∫–∏ LLM
CREATE TABLE llm_metrics (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    provider VARCHAR(50) NOT NULL,
    model VARCHAR(100) NOT NULL,
    request_type VARCHAR(50),
    response_time_ms INTEGER,
    tokens_input INTEGER,
    tokens_output INTEGER,
    cost_usd DECIMAL(10,6),
    success BOOLEAN DEFAULT true,
    created_at TIMESTAMP DEFAULT NOW()
);
```

### Qdrant Collections

#### search_sources
```python
{
    "vectors": {
        "size": 1536,  # OpenAI embeddings
        "distance": "Cosine"
    },
    "payload_schema": {
        "source_id": "keyword",
        "source_type": "keyword",
        "title": "text",
        "url": "keyword",
        "created_date": "datetime"
    }
}
```

#### learning_materials
```python
{
    "vectors": {
        "size": 1536,
        "distance": "Cosine"
    },
    "payload_schema": {
        "content_type": "keyword",
        "category": "keyword",
        "difficulty": "keyword",
        "language": "keyword"
    }
}
```

## üîß –°–µ—Ä–≤–∏—Å—ã

### SearchService
```python
class SearchServiceInterface:
    async def semantic_search(self, query: SemanticSearchQuery) -> List[SearchResult]:
        """–í—ã–ø–æ–ª–Ω—è–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º"""
        
    async def upload_document(self, file: UploadFile, file_type: FileType, 
                            request: UploadFileRequest) -> UploadFileResponse:
        """–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç"""
        
    async def get_searched_sources(self, query: SemanticSearchQuery) -> List[str]:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª—Å—è –ø–æ–∏—Å–∫"""
```

### GenerationService
```python
class GenerationServiceInterface:
    async def start_generation_session(self, request: GenerateRequest) -> GenerationSession:
        """–ù–∞—á–∏–Ω–∞–µ—Ç –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ RFC"""
        
    async def generate_initial_questions(self, session: GenerationSession) -> List[AIQuestion]:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–±–æ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"""
        
    async def generate_rfc_document(self, session_id: str, 
                                  additional_requirements: str = None) -> GeneratedRFC:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π RFC –¥–æ–∫—É–º–µ–Ω—Ç"""
```

### DocumentationService
```python
class DocumentationServiceInterface:
    async def analyze_code(self, request: CodeAnalysisRequest) -> CodeAnalysis:
        """–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–¥ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é"""
        
    async def generate_documentation(self, request: DocumentationRequest) -> DocumentationResponse:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –∫–æ–¥—É"""
        
    async def get_supported_capabilities(self) -> Dict[str, Any]:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏"""
```

## ü§ñ LLM Integration

### Multi-LLM Router
```python
class LLMRouter:
    def __init__(self):
        self.providers = {
            "openai": OpenAIProvider(),
            "anthropic": AnthropicProvider(), 
            "ollama": OllamaProvider()
        }
        
    async def route_request(self, request: LLMRequest) -> LLMResponse:
        """–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–º—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É"""
        
    async def get_best_provider(self, task_type: str, 
                              requirements: Dict[str, Any]) -> str:
        """–í—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–µ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –¥–ª—è –∑–∞–¥–∞—á–∏"""
```

### –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã

#### OpenAI Provider
```python
class OpenAIProvider:
    async def generate_text(self, prompt: str, model: str = "gpt-4") -> str:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ OpenAI API"""
        
    async def get_embeddings(self, texts: List[str]) -> List[List[float]]:
        """–ü–æ–ª—É—á–∞–µ—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤"""
```

#### Anthropic Provider
```python
class AnthropicProvider:
    async def generate_text(self, prompt: str, model: str = "claude-3-sonnet") -> str:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ Anthropic API"""
```

#### Ollama Provider
```python
class OllamaProvider:
    async def generate_text(self, prompt: str, model: str = "mistral:instruct") -> str:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã–π Ollama"""
        
    async def list_models(self) -> List[str]:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π"""
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### JWT Authentication
```python
from fastapi import Depends, HTTPException, status
from fastapi.security import HTTPBearer, HTTPAuthorizationCredentials

security = HTTPBearer()

async def get_current_user(credentials: HTTPAuthorizationCredentials = Depends(security)):
    """–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ JWT —Ç–æ–∫–µ–Ω–∞"""
    try:
        payload = jwt.decode(credentials.credentials, SECRET_KEY, algorithms=[ALGORITHM])
        user_id: str = payload.get("sub")
        if user_id is None:
            raise HTTPException(status_code=401, detail="Invalid token")
        return await get_user_by_id(user_id)
    except JWTError:
        raise HTTPException(status_code=401, detail="Invalid token")
```

### Rate Limiting
```python
from slowapi import Limiter, _rate_limit_exceeded_handler
from slowapi.util import get_remote_address

limiter = Limiter(key_func=get_remote_address)

@router.post("/search")
@limiter.limit("10/minute")
async def semantic_search(request: Request, query: SemanticSearchQuery):
    """–ü–æ–∏—Å–∫ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É"""
```

### Input Validation
```python
from pydantic import BaseModel, validator

class SearchQuery(BaseModel):
    query: str
    limit: int = 10
    
    @validator('query')
    def query_must_not_be_empty(cls, v):
        if not v.strip():
            raise ValueError('Query cannot be empty')
        return v
        
    @validator('limit')
    def limit_must_be_reasonable(cls, v):
        if v < 1 or v > 100:
            raise ValueError('Limit must be between 1 and 100')
        return v
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Prometheus Metrics
```python
from prometheus_client import Counter, Histogram, Gauge

# –°—á–µ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
REQUEST_COUNT = Counter('ai_assistant_requests_total', 'Total requests', ['method', 'endpoint'])

# –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
REQUEST_DURATION = Histogram('ai_assistant_request_duration_seconds', 'Request duration')

# LLM –º–µ—Ç—Ä–∏–∫–∏
LLM_REQUESTS = Counter('ai_assistant_llm_requests_total', 'LLM requests', ['provider', 'model'])
LLM_COST = Counter('ai_assistant_llm_cost_usd_total', 'LLM cost in USD', ['provider'])

# –ö–∞—á–µ—Å—Ç–≤–æ AI
SEARCH_PRECISION = Gauge('ai_assistant_search_precision_score', 'Search precision score')
RFC_QUALITY = Gauge('ai_assistant_rfc_quality_score', 'RFC quality score')
```

### Health Checks
```python
@router.get("/health")
async def health_check():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã"""
    health_status = {
        "status": "healthy",
        "timestamp": datetime.utcnow().isoformat(),
        "services": {}
    }
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    try:
        await database.execute("SELECT 1")
        health_status["services"]["database"] = "healthy"
    except Exception as e:
        health_status["services"]["database"] = f"unhealthy: {str(e)}"
        health_status["status"] = "unhealthy"
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ Qdrant
    try:
        await qdrant_client.get_collections()
        health_status["services"]["vector_db"] = "healthy"
    except Exception as e:
        health_status["services"]["vector_db"] = f"unhealthy: {str(e)}"
        health_status["status"] = "unhealthy"
    
    return health_status
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit Tests
```python
import pytest
from fastapi.testclient import TestClient
from app.main import app

client = TestClient(app)

def test_semantic_search():
    """–¢–µ—Å—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞"""
    response = client.post("/api/v1/search", json={
        "query": "test query",
        "limit": 5
    })
    assert response.status_code == 200
    data = response.json()
    assert "results" in data
    assert len(data["results"]) <= 5

@pytest.mark.asyncio
async def test_rfc_generation():
    """–¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ RFC"""
    # –ù–∞—á–∏–Ω–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
    response = client.post("/api/v1/generate", json={
        "task_type": "new_feature",
        "initial_request": "Test feature",
        "context": "Test context"
    })
    assert response.status_code == 200
    session_id = response.json()["session_id"]
    
    # –§–∏–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º
    response = client.post("/api/v1/generate/finalize", json={
        "session_id": session_id
    })
    assert response.status_code == 200
    assert "rfc" in response.json()
```

### Integration Tests
```python
@pytest.mark.integration
async def test_full_search_pipeline():
    """–¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞ –ø–æ–∏—Å–∫–∞"""
    # –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç
    with open("test_document.pdf", "rb") as f:
        response = client.post("/api/v1/search/upload", 
                             files={"file": f})
    assert response.status_code == 200
    
    # –ñ–¥–µ–º –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
    await asyncio.sleep(2)
    
    # –ò—â–µ–º –¥–æ–∫—É–º–µ–Ω—Ç
    response = client.post("/api/v1/search", json={
        "query": "test content from document"
    })
    assert response.status_code == 200
    assert len(response.json()["results"]) > 0
```

### E2E Tests
```python
@pytest.mark.e2e
async def test_complete_user_workflow():
    """–¢–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è"""
    # 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    auth_response = client.post("/api/v1/auth/login", json={
        "username": "test@example.com",
        "password": "testpass"
    })
    token = auth_response.json()["access_token"]
    headers = {"Authorization": f"Bearer {token}"}
    
    # 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    source_response = client.post("/api/v1/search/sources", 
                                json={"source_type": "confluence", "config": {...}},
                                headers=headers)
    assert source_response.status_code == 200
    
    # 3. –ü–æ–∏—Å–∫
    search_response = client.post("/api/v1/search", 
                                json={"query": "test"}, 
                                headers=headers)
    assert search_response.status_code == 200
    
    # 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è RFC
    gen_response = client.post("/api/v1/generate", 
                             json={"task_type": "new_feature", "initial_request": "test"},
                             headers=headers)
    assert gen_response.status_code == 200
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker Compose
```yaml
version: '3.8'
services:
  app:
    build: .
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=postgresql://postgres:password@postgres:5432/ai_assistant
      - QDRANT_URL=http://qdrant:6333
    depends_on:
      - postgres
      - qdrant
      
  postgres:
    image: postgres:15-alpine
    environment:
      POSTGRES_DB: ai_assistant
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: password
    volumes:
      - postgres_data:/var/lib/postgresql/data
      
  qdrant:
    image: qdrant/qdrant:latest
    ports:
      - "6333:6333"
    volumes:
      - qdrant_data:/qdrant/storage
      
  prometheus:
    image: prom/prometheus:latest
    ports:
      - "9090:9090"
    volumes:
      - ./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml

volumes:
  postgres_data:
  qdrant_data:
```

### Kubernetes
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: ai-assistant
spec:
  replicas: 3
  selector:
    matchLabels:
      app: ai-assistant
  template:
    metadata:
      labels:
        app: ai-assistant
    spec:
      containers:
      - name: ai-assistant
        image: ai-assistant:latest
        ports:
        - containerPort: 8000
        env:
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: ai-assistant-secrets
              key: database-url
        resources:
          requests:
            memory: "512Mi"
            cpu: "250m"
          limits:
            memory: "1Gi"
            cpu: "500m"
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[USER_GUIDE.md](./USER_GUIDE.md)** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **[ROADMAP.md](./ROADMAP.md)** - –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è
- **[API Docs](http://localhost:8000/docs)** - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
black app/ tests/
isort app/ tests/

# –õ–∏–Ω—Ç–∏–Ω–≥
flake8 app/ tests/
mypy app/

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
pytest tests/ -v --cov=app

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
bandit -r app/
safety check
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
make run              # –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
make test             # –í—Å–µ —Ç–µ—Å—Ç—ã
make lint             # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
make format           # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

# Docker
make docker-build     # –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
make docker-run       # –ó–∞–ø—É—Å–∫ –≤ Docker
make docker-logs      # –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
make db-migrate       # –ú–∏–≥—Ä–∞—Ü–∏–∏
make db-seed          # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
make db-reset         # –°–±—Ä–æ—Å –ë–î
```

---

**üõ†Ô∏è AI Assistant MVP Developer Guide** - –í—Å–µ —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! 